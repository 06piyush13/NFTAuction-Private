{"version":3,"file":"terminal.js","names":["Error","_interopRequireWildcard","require","Terminal","Effect","Exit","Layer","Mailbox","Option","RcRef","readline","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","defaultShouldQuit","input","key","ctrl","name","make","exports","fnUntraced","shouldQuit","stdin","process","stdout","rlRef","acquire","acquireRelease","sync","rl","createInterface","escapeCodeTimeout","emitKeypressEvents","isTTY","setRawMode","close","columns","rows","Boolean","readInput","gen","mailbox","handleKeypress","s","k","userInput","fromNullable","meta","shift","unsafeOffer","unsafeDone","void","addFinalizer","off","on","readLine","pipe","flatMap","readlineInterface","async","resume","onLine","line","succeed","once","scoped","display","prompt","uninterruptible","write","err","fail","BadArgument","module","method","description","cause","of","layer"],"sources":["../../../src/internal/terminal.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}