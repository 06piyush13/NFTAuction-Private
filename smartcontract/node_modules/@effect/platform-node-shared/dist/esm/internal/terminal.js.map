{"version":3,"file":"terminal.js","names":["Error","Terminal","Effect","Exit","Layer","Mailbox","Option","RcRef","readline","defaultShouldQuit","input","key","ctrl","name","make","fnUntraced","shouldQuit","stdin","process","stdout","rlRef","acquire","acquireRelease","sync","rl","createInterface","escapeCodeTimeout","emitKeypressEvents","isTTY","setRawMode","close","columns","rows","Boolean","readInput","gen","get","mailbox","handleKeypress","s","k","userInput","fromNullable","meta","shift","unsafeOffer","unsafeDone","void","addFinalizer","off","on","readLine","pipe","flatMap","readlineInterface","async","resume","onLine","line","succeed","once","scoped","display","prompt","uninterruptible","write","err","fail","BadArgument","module","method","description","cause","of","layer"],"sources":["../../../src/internal/terminal.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}