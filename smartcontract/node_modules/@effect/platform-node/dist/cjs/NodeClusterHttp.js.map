{"version":3,"file":"NodeClusterHttp.js","names":["HttpRunner","_interopRequireWildcard","require","MessageStorage","RunnerHealth","Runners","RunnerStorage","ShardingConfig","SqlMessageStorage","SqlRunnerStorage","RpcSerialization","Effect","Layer","Option","_nodeHttp","_NodeClusterSocket","NodeHttpClient","NodeHttpServer","NodeSocket","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","layer","options","clientOnly","transport","provide","layerHttpClientOnly","layerUndici","layerWebsocketClientOnly","layerWebSocketConstructor","layerHttp","layerHttpServer","layerWebsocket","runnerHealth","empty","layerK8s","runnerHealthK8s","pipe","layerK8sHttpClient","layerPing","layerRpc","layerClientProtocolHttpDefault","layerClientProtocolWebsocketDefault","provideMerge","storage","layerNoop","orDie","layerMemory","layerFromEnv","shardingConfig","serialization","layerNdjson","layerMsgPack","exports","gen","config","listenAddress","orElse","runnerListenAddress","runnerAddress","_tag","die","createServer","value","unwrapEffect"],"sources":["../../src/NodeClusterHttp.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}