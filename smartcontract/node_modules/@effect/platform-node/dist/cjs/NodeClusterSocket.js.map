{"version":3,"file":"NodeClusterSocket.js","names":["K8sHttpClient","_interopRequireWildcard","require","MessageStorage","RunnerHealth","Runners","RunnerStorage","ShardingConfig","SocketRunner","SqlMessageStorage","SqlRunnerStorage","_NodeClusterSocket","FileSystem","RpcSerialization","Effect","Layer","NodeFileSystem","NodeHttpClient","Undici","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","layer","options","clientOnly","provide","layerClientOnly","layerClientProtocol","layerSocketServer","runnerHealth","empty","layerK8s","runnerHealthK8s","pipe","layerK8sHttpClient","layerPing","layerRpc","provideMerge","storage","layerNoop","orDie","layerMemory","layerFromEnv","shardingConfig","serialization","layerNdjson","layerMsgPack","exports","layerDispatcherK8s","scoped","Dispatcher","gen","fs","caCertOption","readFileString","option","_tag","acquireRelease","sync","Agent","connect","ca","value","agent","promise","destroy","makeDispatcher","fresh","layerUndiciWithoutDispatcher"],"sources":["../../src/NodeClusterSocket.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}