{"version":3,"file":"NodeClusterHttp.js","names":["HttpRunner","MessageStorage","RunnerHealth","Runners","RunnerStorage","ShardingConfig","SqlMessageStorage","SqlRunnerStorage","RpcSerialization","Effect","Layer","Option","createServer","layerK8sHttpClient","NodeHttpClient","NodeHttpServer","NodeSocket","layer","options","clientOnly","transport","provide","layerHttpClientOnly","layerUndici","layerWebsocketClientOnly","layerWebSocketConstructor","layerHttp","layerHttpServer","layerWebsocket","runnerHealth","empty","layerK8s","runnerHealthK8s","pipe","layerPing","layerRpc","layerClientProtocolHttpDefault","layerClientProtocolWebsocketDefault","provideMerge","storage","layerNoop","orDie","layerMemory","layerFromEnv","shardingConfig","serialization","layerNdjson","layerMsgPack","gen","config","listenAddress","orElse","runnerListenAddress","runnerAddress","_tag","die","value","unwrapEffect"],"sources":["../../src/NodeClusterHttp.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}