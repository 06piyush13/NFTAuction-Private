{"version":3,"file":"NodeClusterSocket.js","names":["K8sHttpClient","MessageStorage","RunnerHealth","Runners","RunnerStorage","ShardingConfig","SocketRunner","SqlMessageStorage","SqlRunnerStorage","layerClientProtocol","layerSocketServer","FileSystem","RpcSerialization","Effect","Layer","NodeFileSystem","NodeHttpClient","Undici","layer","options","clientOnly","provide","layerClientOnly","runnerHealth","empty","layerK8s","runnerHealthK8s","pipe","layerK8sHttpClient","layerPing","layerRpc","provideMerge","storage","layerNoop","orDie","layerMemory","layerFromEnv","shardingConfig","serialization","layerNdjson","layerMsgPack","layerDispatcherK8s","scoped","Dispatcher","gen","fs","caCertOption","readFileString","option","_tag","acquireRelease","sync","Agent","connect","ca","value","agent","promise","destroy","makeDispatcher","fresh","layerUndiciWithoutDispatcher"],"sources":["../../src/NodeClusterSocket.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}