import { FileSystem, Path } from '@effect/platform';
import type { Contract, ContractExecutable } from '@midnight-ntwrk/compact-js/effect';
import { Context, Effect, Layer } from 'effect';
import * as ConfigCompilationError from './ConfigCompilationError.js';
import * as ConfigError from './ConfigError.js';
declare const ConfigCompiler_base: Context.TagClass<ConfigCompiler, "compact-js-command/ConfigCompiler", ConfigCompiler.Service>;
/**
 * Compiles a contract configuration file into a JavaScript module.
 *
 * @category services
 */
export declare class ConfigCompiler extends ConfigCompiler_base {
}
export declare namespace ConfigCompiler {
    /**
     * Represents the _shape_ of an exported configuration module.
     */
    type ModuleExport<PS = any> = {
        default: {
            config: Record<string, any>;
            createInitialPrivateState: () => PS;
            contractExecutable: ContractExecutable.ContractExecutable<Contract.Contract<PS>, PS>;
        };
    };
    /**
     * Describes a configuration module, the JavaScript module compiled from a contract configuration file.
     */
    type ModuleSpec<PS = any> = {
        moduleImportDirectoryPath: string;
        module: ModuleExport<PS>;
    };
    interface Service {
        /**
         * Compiles a contract configuration file.
         *
         * @param filePath A file path to the contract configuration file.
         * @returns An `Effect` that yields a {@link ModuleSpec}; or fails with a
         * {@link ConfigError.ConfigError | ConfigError} or a
         * {@link ConfigCompilationError.ConfigCompilationError | ConfigCompilationError}.
         */
        readonly compile: (filePath: string) => Effect.Effect<ModuleSpec, ConfigError.ConfigError | ConfigCompilationError.ConfigCompilationError>;
    }
}
/**
 * A {@link ConfigCompiler} implementation that uses TypeScript to compile the given file path and then load
 * it as a JavaScript module.
 *
 * @category layers
 */
export declare const layer: Layer.Layer<ConfigCompiler, never, Path.Path | FileSystem.FileSystem>;
export {};
//# sourceMappingURL=ConfigCompiler.d.ts.map