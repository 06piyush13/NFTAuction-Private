import type { FileSystem, Path } from '@effect/platform';
import { type PlatformError } from '@effect/platform/Error';
import { NodeContext } from '@effect/platform-node';
import { type ContractExecutable, type ZKConfiguration } from '@midnight-ntwrk/compact-js/effect';
import * as Configuration from '@midnight-ntwrk/platform-js/effect/Configuration';
import { ConfigError as EffectConfigError, type ConfigProvider, type Duration, Effect, Layer } from 'effect';
import * as CompiledContractReflection from '../CompiledContractReflection.js';
import * as ConfigCompilationError from '../ConfigCompilationError.js';
import * as ConfigCompiler from '../ConfigCompiler.js';
import type * as ConfigError from '../ConfigError.js';
/**
 * Applies a duration to the current date/time, returning a date/time that is in the future.
 *
 * @param duration A `Duration` describing how far into the future the returned date/time should be.
 * @returns An `Effect` that yields a `Date` that will be in the future from `duration`.
 */
export declare const ttl: (duration: Duration.Duration) => Effect.Effect<Date>;
/**
 * Pretty prints a configuration error from {@link ConfigCompiler.ConfigCompiler | ConfigCompiler} implementations.
 *
 * @param err The {@link ConfigError.ConfigError | ConfigError} or
 * {@link ConfigCompilationError.ConfigCompilationError | ConfigCompilationError} to report for.
 * @returns An `Effect` that writes `err` to the console.
 */
export declare const reportContractConfigError: (err: ConfigError.ConfigError | ConfigCompilationError.ConfigCompilationError) => Effect.Effect<void, never>;
/**
 * Pretty prints a configuration or contract execution error.
 *
 * @param err The {@link ContractExecutable.ContractExecutionError | ContractExecutionError} or `ConfigError` to
 * report for.
 * @returns An `Effect` that writes `err` to the console.
 */
export declare const reportContractExecutionError: (err: ContractExecutable.ContractExecutionError | EffectConfigError.ConfigError | PlatformError) => Effect.Effect<void, never>;
/**
 * Creates a default layer that provides services for executing Compact contracts via a command line.
 *
 * @param configProvider
 * @param zkBaseFolderPath A base path to a folder containing the ZK assets for the contract that will be in
 * scope during invocation
 *
 * @category layers
 */
export declare const layer: (configProvider: ConfigProvider.ConfigProvider, zkBaseFolderPath: string) => Layer.Layer<ZKConfiguration.ZKConfiguration | Configuration.Keys | Configuration.Network | NodeContext.NodeContext, EffectConfigError.ConfigError>;
/**
 * Creates an appropriate runtime for a command handler.
 *
 * @param handler A handler function that executes a command based on its received command line inputs and
 * compiled configuration module.
 * @returns An `Effect` that adapts `handler` by compiling the configured configuration file, and invoking
 * `handler` within an appropriate `ContractExecutableRuntime`.
 */
export declare const invocationHandler: <I>(handler: (inputs: I & GlobalOptions, module: ConfigCompiler.ConfigCompiler.ModuleSpec) => Effect.Effect<void, ContractExecutable.ContractExecutionError | EffectConfigError.ConfigError, Path.Path | FileSystem.FileSystem | CompiledContractReflection.CompiledContractReflection>) => (inputs: I & GlobalOptions) => Effect.Effect<void, ConfigError.ConfigError | EffectConfigError.ConfigError, Path.Path | FileSystem.FileSystem | ConfigCompiler.ConfigCompiler>;
//# sourceMappingURL=command.d.ts.map